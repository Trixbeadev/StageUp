{% extends "base.html" %}

{% block title %}Perfil - {{ user.name or user.email }} - StageUp{% endblock %}

{% block content %}
<section class="profile-view-section">
    <div class="container-profile">
        <!-- Cover Image -->
        <div class="profile-cover" style="background: linear-gradient(135deg, #BDB0D9 0%, #7D6AA6 50%, #A68881 100%);">
            {% if user.cover_image %}
            <img src="{{ user.cover_image }}" alt="Cover">
            {% endif %}
        </div>

        <!-- Profile Header -->
        <div class="profile-header">
            <div class="profile-avatar-wrapper">
                <div class="profile-avatar" style="background: linear-gradient(135deg, #BDB0D9 0%, #7D6AA6 50%, #A68881 100%);">
                    {% if user.profile_image %}
                    <img src="{{ user.profile_image }}" alt="{{ user.name }}">
                    {% else %}
                    <span class="avatar-initials">{{ (user.name[0] if user.name else user.email[0])|upper }}</span>
                    {% endif %}
                </div>
                <a href="{{ url_for('editar_perfil') }}" class="edit-profile-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                    </svg>
                    Editar Perfil
                </a>
            </div>
            <div class="profile-info">
                <h1 class="profile-name">{{ user.name or 'Usuário' }}</h1>
                {% if user.username %}
                <p class="profile-username">@{{ user.username }}</p>
                {% endif %}
                {% if user.location %}
                <p class="profile-location">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                        <circle cx="12" cy="10" r="3"></circle>
                    </svg>
                    {{ user.location }}
                </p>
                {% endif %}
            </div>
        </div>

        <!-- Profile Content -->
        <div class="profile-content">
            <!-- Skills -->
            {% if skills_list %}
            <div class="profile-section">
                <h2 class="section-title-profile">Habilidades</h2>
                <div class="skills-display">
                    {% for skill in skills_list %}
                    <span class="skill-badge">{{ skill }}</span>
                    {% endfor %}
                </div>
            </div>
            {% endif %}

            <!-- Bio -->
            {% if user.bio %}
            <div class="profile-section">
                <h2 class="section-title-profile">Sobre</h2>
                <div class="profile-bio">
                    <p>{{ user.bio|nl2br|safe }}</p>
                </div>
            </div>
            {% endif %}

            <!-- Links -->
            <div class="profile-section">
                <h2 class="section-title-profile">Links</h2>
                <div class="profile-links">
                    {% if user.website %}
                    <a href="{{ user.website }}" target="_blank" class="profile-link">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                            <polyline points="15 3 21 3 21 9"></polyline>
                            <line x1="10" y1="14" x2="21" y2="3"></line>
                        </svg>
                        <span>{{ user.website }}</span>
                    </a>
                    {% endif %}
                    {% if user.linkedin_url %}
                    <a href="{{ user.linkedin_url }}" target="_blank" class="profile-link">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                        </svg>
                        <span>LinkedIn</span>
                    </a>
                    {% endif %}
                    {% if user.github_url %}
                    <a href="{{ user.github_url }}" target="_blank" class="profile-link">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
                        </svg>
                        <span>GitHub</span>
                    </a>
                    {% endif %}
                    {% if user.portfolio_url %}
                    <a href="{{ user.portfolio_url }}" target="_blank" class="profile-link">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                            <line x1="8" y1="21" x2="16" y2="21"></line>
                            <line x1="12" y1="17" x2="12" y2="21"></line>
                        </svg>
                        <span>Portfólio</span>
                    </a>
                    {% endif %}
                    {% if not user.website and not user.linkedin_url and not user.github_url and not user.portfolio_url %}
                    <p class="no-links">Nenhum link adicionado ainda. <a href="{{ url_for('editar_perfil') }}">Edite seu perfil</a> para adicionar.</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

